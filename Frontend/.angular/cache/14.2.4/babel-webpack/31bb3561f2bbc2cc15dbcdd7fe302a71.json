{"ast":null,"code":"import _asyncToGenerator from \"/Users/manuelsava/Documents/Lavoro/HRM/Spring-Angular-App/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/students.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\n\nfunction StudentDetailComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 2)(2, \"div\", 3)(3, \"h4\", 4);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(5, \"div\", 2)(6, \"div\", 3)(7, \"p\", 5);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"div\", 2)(10, \"div\", 3)(11, \"p\", 5);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"div\", 2)(14, \"div\", 3)(15, \"p\", 5);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"div\", 2)(18, \"div\", 3)(19, \"button\", 6);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(20, \"svg\", 7);\n    i0.ɵɵelement(21, \"path\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \" Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(23, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function StudentDetailComponent_div_0_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onDelete(ctx_r3.student.id));\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(24, \"svg\", 10);\n    i0.ɵɵelement(25, \"path\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \" Delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.student.firstName + \" \" + ctx_r0.student.lastName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.student.email);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.student.dob);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.student.age);\n  }\n}\n\nfunction StudentDetailComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Please, select a student!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class StudentDetailComponent {\n  constructor(studentsService, route, router) {\n    var _this = this;\n\n    this.studentsService = studentsService;\n    this.route = route;\n    this.router = router;\n    this.student = {};\n\n    this.deletePromise = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (studentId) {\n        const performed = yield _this.studentsService.deleteStudent(studentId);\n\n        if (performed) {\n          Swal.fire('Deleted!', 'Your file has been deleted.', 'success');\n        } else {\n          Swal.fire({\n            title: 'Error!',\n            text: \"Couldn't delete the student!\",\n            icon: 'error'\n          });\n        }\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }\n\n  ngOnInit() {\n    this.route.data.subscribe(data => {\n      this.student = data['student'];\n    });\n  }\n\n  onDelete(studentId) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      Swal.fire({\n        title: 'Are you sure?',\n        text: \"You will permanently delete this student!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Yes, delete it!'\n      }).then( /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator(function* (result) {\n          if (result.isConfirmed) {\n            _this2.deletePromise(studentId);\n          }\n        });\n\n        return function (_x2) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    })();\n  }\n\n}\n\nStudentDetailComponent.ɵfac = function StudentDetailComponent_Factory(t) {\n  return new (t || StudentDetailComponent)(i0.ɵɵdirectiveInject(i1.StudentsService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nStudentDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: StudentDetailComponent,\n  selectors: [[\"app-student-detail\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[4, \"ngIf\", \"ngIfElse\"], [\"infoText\", \"\"], [1, \"row\"], [1, \"col-xs-12\"], [1, \"list-group-item-heading\"], [1, \"list-group-item-text\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-pencil-fill\"], [\"d\", \"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 2, \"margin-left\", \"5px\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-trash3-fill\"], [\"d\", \"M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z\"]],\n  template: function StudentDetailComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, StudentDetailComponent_div_0_Template, 27, 4, \"div\", 0);\n      i0.ɵɵtemplate(1, StudentDetailComponent_ng_template_1_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(2);\n\n      i0.ɵɵproperty(\"ngIf\", ctx.student.id)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i3.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzdHVkZW50LWRldGFpbC5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"mappings":";AAIA,OAAOA,IAAP,MAAiB,aAAjB;;;;;;;;;;ICJAC,4BAAsC,CAAtC,EAAsC,KAAtC,EAAsC,CAAtC,EAAsC,CAAtC,EAAsC,KAAtC,EAAsC,CAAtC,EAAsC,CAAtC,EAAsC,IAAtC,EAAsC,CAAtC;IAGgDA;IAA8CA;IAG1FA,+BAAiB,CAAjB,EAAiB,KAAjB,EAAiB,CAAjB,EAAiB,CAAjB,EAAiB,GAAjB,EAAiB,CAAjB;IAEwCA;IAAmBA;IAG3DA,+BAAiB,EAAjB,EAAiB,KAAjB,EAAiB,CAAjB,EAAiB,EAAjB,EAAiB,GAAjB,EAAiB,CAAjB;IAEwCA;IAAiBA;IAGzDA,gCAAiB,EAAjB,EAAiB,KAAjB,EAAiB,CAAjB,EAAiB,EAAjB,EAAiB,GAAjB,EAAiB,CAAjB;IAEwCA;IAAiBA;IAGzDA,gCAAiB,EAAjB,EAAiB,KAAjB,EAAiB,CAAjB,EAAiB,EAAjB,EAAiB,QAAjB,EAAiB,CAAjB;IAEsDA;IAAAA;IAC1CA;IACJA;IAAOA;IAAIA;IACXA;IAAAA;IAA6CA;MAAAA;MAAA;MAAA,OAASA,kDAAT;IAA6B,CAA7B;IAAyDA;IAAAA;IAClGA;IACJA;IAAOA;IAAMA;;;;;IAzBuBA;IAAAA;IAKJA;IAAAA;IAKAA;IAAAA;IAKAA;IAAAA;;;;;;IAgBxCA;IAAGA;IAAyBA;;;;ADtBhC,OAAM,MAAOC,sBAAP,CAA6B;EAGjCC,YAAoBC,eAApB,EAA8DC,KAA9D,EAA6FC,MAA7F,EAA2G;IAAA;;IAAvF;IAA0C;IAA+B;IAF7F,eAAmB,EAAnB;;IA4BA;MAAA,6BAAgB,WAAOC,SAAP,EAA4B;QAC1C,MAAMC,SAAS,SAAS,KAAI,CAACJ,eAAL,CAAqBK,aAArB,CAAmCF,SAAnC,CAAxB;;QACA,IAAGC,SAAH,EAAa;UACXR,IAAI,CAACU,IAAL,CACE,UADF,EAEE,6BAFF,EAGE,SAHF;QAKD,CAND,MAMO;UACLV,IAAI,CAACU,IAAL,CAAU;YACRC,KAAK,EAAE,QADC;YAERC,IAAI,EAAE,8BAFE;YAGRC,IAAI,EAAE;UAHE,CAAV;QAKD;MACF,CAfD;;MAAA;QAAA;MAAA;IAAA;EA1B+G;;EAE/GC,QAAQ;IACN,KAAKT,KAAL,CAAWU,IAAX,CAAgBC,SAAhB,CACGD,IAAD,IAAe;MACb,KAAKE,OAAL,GAAeF,IAAI,CAAC,SAAD,CAAnB;IACD,CAHH;EAKD;;EAEKG,QAAQ,CAACX,SAAD,EAAkB;IAAA;;IAAA;MAC9BP,IAAI,CAACU,IAAL,CAAU;QACRC,KAAK,EAAE,eADC;QAERC,IAAI,EAAE,2CAFE;QAGRC,IAAI,EAAE,SAHE;QAIRM,gBAAgB,EAAE,IAJV;QAKRC,kBAAkB,EAAE,SALZ;QAMRC,iBAAiB,EAAE,MANX;QAORC,iBAAiB,EAAE;MAPX,CAAV,EAQGC,IARH;QAAA,8BAQS,WAAOC,MAAP,EAAiB;UACxB,IAAIA,MAAM,CAACC,WAAX,EAAwB;YACtB,MAAI,CAACC,aAAL,CAAmBnB,SAAnB;UACD;QACF,CAZD;;QAAA;UAAA;QAAA;MAAA;IAD8B;EAc/B;;AA3BgC;;;mBAAtBL,wBAAsBD;AAAA;;;QAAtBC;EAAsByB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZnC9B;MAiCAA;;;;;;MAjCMA,sCAAiB,UAAjB,EAAiB+B,GAAjB","names":["Swal","i0","StudentDetailComponent","constructor","studentsService","route","router","studentId","performed","deleteStudent","fire","title","text","icon","ngOnInit","data","subscribe","student","onDelete","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","deletePromise","selectors","decls","vars","consts","template","_r1"],"sourceRoot":"","sources":["/Users/manuelsava/Documents/Lavoro/HRM/Spring-Angular-App/Frontend/src/app/students/student-detail/student-detail.component.ts","/Users/manuelsava/Documents/Lavoro/HRM/Spring-Angular-App/Frontend/src/app/students/student-detail/student-detail.component.html"],"sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { Student } from '../student.model';\nimport { StudentsService } from 'src/app/services/students.service';\nimport { ActivatedRoute, Data, Router } from '@angular/router';\nimport Swal from 'sweetalert2';\nimport { async } from '@angular/core/testing';\n\n@Component({\n  selector: 'app-student-detail',\n  templateUrl: './student-detail.component.html',\n  styleUrls: ['./student-detail.component.css']\n})\nexport class StudentDetailComponent implements OnInit {\n  student: Student = {} as Student;\n\n  constructor(private studentsService: StudentsService, private route: ActivatedRoute, private router: Router) {}\n\n  ngOnInit(): void {\n    this.route.data.subscribe(\n      (data: Data) => {\n        this.student = data['student']\n      }\n    )\n  }\n\n  async onDelete(studentId: number) {\n    Swal.fire({\n      title: 'Are you sure?',\n      text: \"You will permanently delete this student!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, delete it!'\n    }).then( async (result) => {\n      if (result.isConfirmed) {\n        this.deletePromise(studentId);\n      }\n    })\n  }\n\n  deletePromise = async (studentId: number) => {\n    const performed = await this.studentsService.deleteStudent(studentId);\n    if(performed){\n      Swal.fire(\n        'Deleted!',\n        'Your file has been deleted.',\n        'success'\n      )\n    } else {\n      Swal.fire({\n        title: 'Error!',\n        text: \"Couldn't delete the student!\",\n        icon: 'error',\n      })\n    }\n  }\n}\n","<div *ngIf=\"student.id else infoText\">\n   <div class=\"row\">\n        <div class=\"col-xs-12\">\n            <h4 class=\"list-group-item-heading\">{{student.firstName + \" \" + student.lastName}}</h4>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-xs-12\">\n            <p class=\"list-group-item-text\">{{ student.email }}</p>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-xs-12\">\n            <p class=\"list-group-item-text\">{{ student.dob }}</p>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-xs-12\">\n            <p class=\"list-group-item-text\">{{ student.age }}</p>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-xs-12\">\n            <button type=\"button\" class=\"btn btn-primary\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-pencil-fill\" viewBox=\"0 0 16 16\">\n                <path d=\"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z\"/>\n            </svg> Edit</button>\n            <button type=\"button\" class=\"btn btn-danger\" (click)=\"onDelete(student.id)\" style=\"margin-left: 5px;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-trash3-fill\" viewBox=\"0 0 16 16\">\n                <path d=\"M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z\"/>\n            </svg> Delete</button>\n        </div>\n    </div>\n</div>\n\n<ng-template #infoText>\n    <p>Please, select a student!</p>\n</ng-template>"]},"metadata":{},"sourceType":"module"}